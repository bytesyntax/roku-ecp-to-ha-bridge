<?xml version="1.0" encoding="utf-8"?>
<ecpemuserver xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <rules>
    <!--
      Legacy (one-webhook-per-action) example.

      This maps Roku ECP buttons directly to specific Home Assistant webhooks:
        /api/webhook/awning_open
        /api/webhook/awning_close
        /api/webhook/awning_stop

      Some Home Assistant UIs only allow ONE automation per YAML file; if so, prefer the
      scalable “command router” approach instead:

        - HA single automation: example/ha-automation-ecpemuserver-command-router.yaml
        - rules.xml template:  example/rules.ecp-command-router.xml

      Notes:
      - If Home Assistant runs on the same host and you use Docker host networking,
        127.0.0.1 from inside the container points to the host.
      - You can also use your external/Nginx Proxy Manager URL (e.g. https://homeassistant.example),
        but LAN + local_only webhooks are recommended when possible.
    -->

    <rule>
      <Name>Awning Open</Name>
      <Button>Fwd</Button>
      <Action>HttpGET</Action>
      <EndPoint>http://127.0.0.1:8123/api/webhook/awning_open</EndPoint>
      <ExData> </ExData>
    </rule>

    <rule>
      <Name>Awning Close</Name>
      <Button>Rev</Button>
      <Action>HttpGET</Action>
      <EndPoint>http://127.0.0.1:8123/api/webhook/awning_close</EndPoint>
      <ExData> </ExData>
    </rule>

    <rule>
      <Name>Awning Stop</Name>
      <Button>Play</Button>
      <Action>HttpGET</Action>
      <EndPoint>http://127.0.0.1:8123/api/webhook/awning_stop</EndPoint>
      <ExData> </ExData>
    </rule>

  </rules>
</ecpemuserver>